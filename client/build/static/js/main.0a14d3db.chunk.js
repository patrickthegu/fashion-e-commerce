/*! For license information please see main.0a14d3db.chunk.js.LICENSE.txt */
(this["webpackJsonpmern-client"]=this["webpackJsonpmern-client"]||[]).push([[0],{48:function(e,t,r){e.exports=r.p+"static/media/spinner.ab497855.gif"},67:function(e,t,r){e.exports=r.p+"static/media/Logo.1f646b65.png"},78:function(e,t,r){e.exports=r(92)},83:function(e,t,r){},91:function(e,t,r){},92:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(62),i=r.n(o),c=(r(83),r(4)),l=r(11),u=r(10),s=r(71),f=r(103),h=r(105),p=r(102),d=r(68),m=r(9),E=r(44),v=r(73);function y(e,t,r){return new Promise((function(n,a){var o,i,c,l=window.indexedDB.open("fashion-e-commerce",1);l.onupgradeneeded=function(e){var t=l.result;t.createObjectStore("products",{keyPath:"_id"}),t.createObjectStore("categories",{keyPath:"_id"}),t.createObjectStore("cart",{keyPath:"_id"})},l.onerror=function(e){console.log("There was an error")},l.onsuccess=function(a){switch(o=l.result,i=o.transaction(e,"readwrite"),c=i.objectStore(e),o.onerror=function(e){console.log("error",e)},t){case"put":c.put(r),n(r);break;case"get":var u=c.getAll();u.onsuccess=function(){n(u.result)};break;case"delete":c.delete(r._id);break;default:console.log("No valid method")}i.oncomplete=function(){o.close()}}}))}var g=r(72),O=r(28),b=function(e,t){switch(t.type){case"UPDATE_PRODUCTS":return Object(c.a)(Object(c.a)({},e),{},{products:Object(O.a)(t.products)});case"UPDATE_CATEGORIES":return Object(c.a)(Object(c.a)({},e),{},{categories:Object(O.a)(t.categories)});case"UPDATE_CURRENT_CATEGORY":return Object(c.a)(Object(c.a)({},e),{},{currentCategory:t.currentCategory});case"ADD_TO_CART":return Object(c.a)(Object(c.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(O.a)(e.cart),[t.product])});case"ADD_MULTIPLE_TO_CART":return Object(c.a)(Object(c.a)({},e),{},{cart:[].concat(Object(O.a)(e.cart),Object(O.a)(t.products))});case"REMOVE_FROM_CART":var r=e.cart.filter((function(e){return e._id!==t._id}));return Object(c.a)(Object(c.a)({},e),{},{cartOpen:r.length>0,cart:r});case"UPDATE_CART_QUANTITY":return Object(c.a)(Object(c.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case"CLEAR_CART":return Object(c.a)(Object(c.a)({},e),{},{cartOpen:!1,cart:[]});case"TOGGLE_CART":return Object(c.a)(Object(c.a)({},e),{},{cartOpen:!e.cartOpen});default:return e}};var w=["value"],T=Object(n.createContext)(),N=T.Provider,L=function(e){e.value;var t,r=Object(g.a)(e,w),o=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:""},Object(n.useReducer)(b,t)),i=Object(m.a)(o,2),c=i[0],l=i[1];return console.log(c),a.a.createElement(N,Object.assign({value:[c,l]},r))},S=function(){return Object(n.useContext)(T)};var A,R,I,x,j,_=function(e){var t=e.image,r=e.name,n=e._id,o=e.price,i=(e.quantity,S()),c=Object(m.a)(i,2),u=c[0];return c[1],u.cart,a.a.createElement("div",{className:"card px-1 py-1"},a.a.createElement(l.b,{to:"/products/".concat(n)},a.a.createElement("img",{alt:r,src:"/images/".concat(t)})),a.a.createElement("div",null,a.a.createElement("span",null,"$",o)))},C=r(24),D=r(104),P=Object(D.a)(A||(A=Object(C.a)(["\n  query getCheckout($products: [ID]!) {\n    checkout(products: $products) {\n      session\n    }\n  }\n"]))),k=Object(D.a)(R||(R=Object(C.a)(["\n  query getProducts($category: ID) {\n    products(category: $category) {\n      _id\n      name\n      description\n      price\n      quantity\n      image\n      category {\n        _id\n      }\n    }\n  }\n"]))),U=(Object(D.a)(I||(I=Object(C.a)(["\n  {\n    products {\n      _id\n      name\n      description\n      price\n      quantity\n      category {\n        name\n      }\n    }\n  }\n"]))),Object(D.a)(x||(x=Object(C.a)(["\n  {\n    categories {\n      _id\n      name\n    }\n  }\n"])))),G=Object(D.a)(j||(j=Object(C.a)(["\n  {\n    user {\n      firstName\n      lastName\n      orders {\n        _id\n        purchaseDate\n        products {\n          _id\n          name\n          description\n          price\n          quantity\n          image\n        }\n      }\n    }\n  }\n"]))),F=r(48),M=r.n(F);var H=function(e){Object(E.a)(e);var t=S(),r=Object(m.a)(t,2),o=r[0],i=r[1],c=o.currentCategory,l=Object(v.b)(k),u=l.loading,s=l.data;return Object(n.useEffect)((function(){s?(i({type:"UPDATE_PRODUCTS",products:s.products}),s.products.forEach((function(e){y("products","put",e)}))):u||y("products","get").then((function(e){i({type:"UPDATE_PRODUCTS",products:e})}))}),[s,u,i]),a.a.createElement("div",{className:"my-2"},o.products.length?a.a.createElement("div",{className:"flex-row"},(c?o.products.filter((function(e){return e.category._id===c})):o.products).map((function(e){return a.a.createElement(_,{key:e._id,_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity})}))):a.a.createElement("h3",null,"You haven't added any products yet!"),u?a.a.createElement("img",{src:M.a,alt:"loading"}):null)};var Y=function(e){Object(E.a)(e);var t=S(),r=Object(m.a)(t,2),o=r[0],i=r[1],c=o.categories,l=Object(v.b)(U),u=l.loading,s=l.data;return Object(n.useEffect)((function(){s?(i({type:"UPDATE_CATEGORIES",categories:s.categories}),s.categories.forEach((function(e){y("categories","put",e)}))):u||y("categories","get").then((function(e){i({type:"UPDATE_CATEGORIES",categories:e})}))}),[s,u,i]),a.a.createElement("div",null,c.map((function(e){return a.a.createElement("button",{key:e._id,onClick:function(){var t;t=e._id,i({type:"UPDATE_CURRENT_CATEGORY",currentCategory:t})}},e.name)})))},W=r(26),B=function(e){var t=e.item,r=S(),n=Object(m.a)(r,2)[1];return a.a.createElement("div",{className:"flex-row"},a.a.createElement("div",null,a.a.createElement("img",{src:"/images/".concat(t.image),alt:""})),a.a.createElement("div",null,a.a.createElement("div",null,t.name,", $",t.price),a.a.createElement("div",null,a.a.createElement("span",null,"Qty:"),a.a.createElement("input",{type:"number",placeholder:"1",value:t.purchaseQuantity,onChange:function(e){var r=e.target.value;"0"===r?(n({type:"REMOVE_FROM_CART",_id:t._id}),y("cart","delete",Object(c.a)({},t))):(n({type:"UPDATE_CART_QUANTITY",_id:t._id,purchaseQuantity:parseInt(r)}),y("cart","put",Object(c.a)(Object(c.a)({},t),{},{purchaseQuantity:parseInt(r)})))}}),a.a.createElement("span",{role:"img","aria-label":"trash",onClick:function(){return function(e){n({type:"REMOVE_FROM_CART",_id:e._id}),y("cart","delete",Object(c.a)({},e))}(t)}},"\ud83d\uddd1\ufe0f"))))},$=r(64),V=r(65),Q=r(53),q=r.n(Q),K=new(function(){function e(){Object($.a)(this,e)}return Object(V.a)(e,[{key:"getProfile",value:function(){return q()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return q()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),J=(r(91),r(66)),z=r(99);function X(){X=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(R){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:b(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(R){return{type:"throw",arg:R}}}e.wrap=u;var f={};function h(){}function p(){}function d(){}var m={};l(m,o,(function(){return this}));var E=Object.getPrototypeOf,v=E&&E(E(S([])));v&&v!==t&&r.call(v,o)&&(m=v);var y=d.prototype=h.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function b(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return A()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,n(y,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(O.prototype),l(O.prototype,i,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new O(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Z=Object(J.a)("pk_test_TYooMQauvdEDq54NiTphI7jx"),ee=function(){var e=S(),t=Object(m.a)(e,2),r=t[0],o=t[1],i=Object(z.a)(P),c=Object(m.a)(i,2),l=c[0],u=c[1].data;function s(){o({type:"TOGGLE_CART"})}return Object(n.useEffect)((function(){function e(){return(e=Object(W.a)(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("cart","get");case 2:t=e.sent,o({type:"ADD_MULTIPLE_TO_CART",products:Object(O.a)(t)});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.cart.length||function(){e.apply(this,arguments)}()}),[r.cart.length,o]),Object(n.useEffect)((function(){u&&Z.then((function(e){e.redirectToCheckout({sessionId:u.checkout.session})}))}),[u]),r.cartOpen?a.a.createElement("div",{className:"cart"},a.a.createElement("div",{className:"close",onClick:s},"[close]"),a.a.createElement("h2",null,"Shopping Cart"),r.cart.length?a.a.createElement("div",null,r.cart.map((function(e){return a.a.createElement(B,{key:e._id,item:e})})),a.a.createElement("div",{className:"flex-row space-between"},a.a.createElement("strong",null,"Total: $",function(){var e=0;return r.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()),K.loggedIn()?a.a.createElement("button",{onClick:function(){var e=[];r.cart.forEach((function(t){for(var r=0;r<t.purchaseQuantity;r++)e.push(t._id)})),l({variables:{products:e}})}},"Checkout"):a.a.createElement("span",null,"(log in to check out)"))):a.a.createElement("h3",null,"Cart is empty.")):a.a.createElement("div",{className:"cart-closed",onClick:s},a.a.createElement("span",{role:"img","aria-label":"trash"},"\ud83d\uded2"))},te=function(){return a.a.createElement("div",{className:"container"},a.a.createElement(H,null))},re=r(100);var ne,ae,oe,ie=function(e){var t=e.children;return a.a.createElement("div",{style:{height:560,clear:"both",paddingTop:120,textAlign:"center"}},t)},ce=Object(D.a)(ne||(ne=Object(C.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),le=Object(D.a)(ae||(ae=Object(C.a)(["\n  mutation addOrder($products: [ID]!) {\n    addOrder(products: $products) {\n      purchaseDate\n      products {\n        _id\n        name\n        description\n        price\n        quantity\n        category {\n          name\n        }\n      }\n    }\n  }\n"]))),ue=Object(D.a)(oe||(oe=Object(C.a)(["\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"])));function se(){se=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(R){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:b(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(R){return{type:"throw",arg:R}}}e.wrap=u;var f={};function h(){}function p(){}function d(){}var m={};l(m,o,(function(){return this}));var E=Object.getPrototypeOf,v=E&&E(E(S([])));v&&v!==t&&r.call(v,o)&&(m=v);var y=d.prototype=h.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function b(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return A()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,n(y,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(O.prototype),l(O.prototype,i,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new O(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var fe=function(){var e=Object(re.a)(le),t=Object(m.a)(e,1)[0];return Object(n.useEffect)((function(){function e(){return(e=Object(W.a)(se().mark((function e(){var r,n,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("cart","get");case 2:if(r=e.sent,!(n=r.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:n}});case 7:a=e.sent,o=a.data,o.addOrder.products.forEach((function(e){y("cart","delete",e)}));case 11:setTimeout((function(){window.location.assign("/")}),3e3);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),a.a.createElement("div",null,a.a.createElement(ie,null,a.a.createElement("h1",null,"Success!"),a.a.createElement("h2",null,"Thank you for your purchase!"),a.a.createElement("h2",null,"You will now be redirected to the homepage")))};var he=function(){var e=S(),t=Object(m.a)(e,2),r=t[0],o=t[1],i=Object(u.f)().id,s=Object(n.useState)({}),f=Object(m.a)(s,2),h=f[0],p=f[1],d=Object(v.b)(k),E=d.loading,g=d.data,O=r.products,b=r.cart;return Object(n.useEffect)((function(){O.length?p(O.find((function(e){return e._id===i}))):g?(o({type:"UPDATE_PRODUCTS",products:g.products}),g.products.forEach((function(e){y("products","put",e)}))):E||y("products","get").then((function(e){o({type:"UPDATE_PRODUCTS",products:e})}))}),[O,g,E,o,i]),a.a.createElement(a.a.Fragment,null,h?a.a.createElement("div",{className:"container my-1"},a.a.createElement(l.b,{to:"/"},"\u2190 Return to Homepage"),a.a.createElement("h2",null,h.name),a.a.createElement("p",null,h.description),a.a.createElement("p",null,a.a.createElement("strong",null,"Price:"),"$",h.price," ",a.a.createElement("button",{onClick:function(){var e=b.find((function(e){return e._id===i}));e?(o({type:"UPDATE_CART_QUANTITY",_id:i,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),y("cart","put",Object(c.a)(Object(c.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(o({type:"ADD_TO_CART",product:Object(c.a)(Object(c.a)({},h),{},{purchaseQuantity:1})}),y("cart","put",Object(c.a)(Object(c.a)({},h),{},{purchaseQuantity:1})))}},"Add to cart"),a.a.createElement("button",{disabled:!b.find((function(e){return e._id===h._id})),onClick:function(){o({type:"REMOVE_FROM_CART",_id:h._id}),y("cart","delete",Object(c.a)({},h))}},"Remove from Cart")),a.a.createElement("img",{src:"/images/".concat(h.image),alt:h.name})):null,E?a.a.createElement("img",{src:M.a,alt:"loading"}):null,a.a.createElement(ee,null))},pe=function(){return a.a.createElement("div",null,a.a.createElement(ie,null,a.a.createElement("h1",null,"404 Page Not Found")))},de=r(32);function me(){me=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(R){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:b(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(R){return{type:"throw",arg:R}}}e.wrap=u;var f={};function h(){}function p(){}function d(){}var m={};l(m,o,(function(){return this}));var E=Object.getPrototypeOf,v=E&&E(E(S([])));v&&v!==t&&r.call(v,o)&&(m=v);var y=d.prototype=h.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function b(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return A()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,n(y,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(O.prototype),l(O.prototype,i,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new O(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var Ee=function(e){var t=Object(n.useState)({email:"",password:""}),r=Object(m.a)(t,2),o=r[0],i=r[1],u=Object(re.a)(ce),s=Object(m.a)(u,2),f=s[0],h=s[1].error,p=function(){var e=Object(W.a)(me().mark((function e(t){var r,n;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,f({variables:{email:o.email,password:o.password}});case 4:r=e.sent,n=r.data.login.token,K.login(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=e.target,r=t.name,n=t.value;i(Object(c.a)(Object(c.a)({},o),{},Object(de.a)({},r,n)))};return a.a.createElement("div",{className:"container my-1"},a.a.createElement(l.b,{to:"/signup"},"\u2190 Signup"),a.a.createElement("h2",null,"Login"),a.a.createElement("form",{onSubmit:p},a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"email"},"Email address:"),a.a.createElement("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:d})),a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"pwd"},"Password:"),a.a.createElement("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:d})),h?a.a.createElement("div",null,a.a.createElement("p",{className:"error-text"},"The provided credentials are incorrect")):null,a.a.createElement("div",{className:"flex-row flex-end"},a.a.createElement("button",{type:"submit"},"Submit"))))};function ve(){ve=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(R){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new L(a||[]);return n(i,"_invoke",{value:b(e,r,c)}),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(R){return{type:"throw",arg:R}}}e.wrap=u;var f={};function h(){}function p(){}function d(){}var m={};l(m,o,(function(){return this}));var E=Object.getPrototypeOf,v=E&&E(E(S([])));v&&v!==t&&r.call(v,o)&&(m=v);var y=d.prototype=h.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function b(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return A()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,n(y,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(O.prototype),l(O.prototype,i,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new O(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var ye=function(e){var t=Object(n.useState)({email:"",password:""}),r=Object(m.a)(t,2),o=r[0],i=r[1],u=Object(re.a)(ue),s=Object(m.a)(u,1)[0],f=function(){var e=Object(W.a)(ve().mark((function e(t){var r,n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s({variables:{email:o.email,password:o.password,firstName:o.firstName,lastName:o.lastName}});case 3:r=e.sent,n=r.data.addUser.token,K.login(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.target,r=t.name,n=t.value;i(Object(c.a)(Object(c.a)({},o),{},Object(de.a)({},r,n)))};return a.a.createElement("div",{className:"container my-1"},a.a.createElement(l.b,{to:"/login"},"\u2190 Go to Login"),a.a.createElement("h2",null,"Signup"),a.a.createElement("form",{onSubmit:f},a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"firstName"},"First Name:"),a.a.createElement("input",{placeholder:"First",name:"firstName",type:"firstName",id:"firstName",onChange:h})),a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"lastName"},"Last Name:"),a.a.createElement("input",{placeholder:"Last",name:"lastName",type:"lastName",id:"lastName",onChange:h})),a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"email"},"Email:"),a.a.createElement("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:h})),a.a.createElement("div",{className:"flex-row space-between my-2"},a.a.createElement("label",{htmlFor:"pwd"},"Password:"),a.a.createElement("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:h})),a.a.createElement("div",{className:"flex-row flex-end"},a.a.createElement("button",{type:"submit"},"Submit"))))};var ge=function(){return a.a.createElement("header",{className:"flex-row px-1"},a.a.createElement("nav",null,a.a.createElement(Y,null),K.loggedIn()?a.a.createElement("ul",{className:"flex-row"},a.a.createElement("li",{className:"mx-1"},a.a.createElement(l.b,{to:"/orderHistory"},"Order History")),a.a.createElement("li",{className:"mx-1"},a.a.createElement("a",{href:"/",onClick:function(){return K.logout()}},"Logout"))):a.a.createElement("ul",{className:"flex-row"},a.a.createElement("li",{className:"mx-1"},a.a.createElement(l.b,{to:"/signup"},"Signup")),a.a.createElement("li",{className:"mx-1"},a.a.createElement(l.b,{to:"/login"},"Login")))))};var Oe=function(){var e,t=Object(v.b)(G).data;return t&&(e=t.user),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"container my-1"},a.a.createElement(l.b,{to:"/"},"\u2190 Back to Products"),e?a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"Order History for ",e.firstName," ",e.lastName),e.orders.map((function(e){return a.a.createElement("div",{key:e._id,className:"my-2"},a.a.createElement("h3",null,new Date(parseInt(e.purchaseDate)).toLocaleDateString()),a.a.createElement("div",{className:"flex-row"},e.products.map((function(e,t){var r=e._id,n=e.image,o=e.name,i=e.price;return a.a.createElement("div",{key:t,className:"card px-1 py-1"},a.a.createElement(l.b,{to:"/products/".concat(r)},a.a.createElement("img",{alt:o,src:"/images/".concat(n)}),a.a.createElement("p",null,o)),a.a.createElement("div",null,a.a.createElement("span",null,"$",i)))}))))}))):null))};var be=function(){return a.a.createElement("div",null,a.a.createElement("p",{style:"text-align: center;"},a.a.createElement("span",{style:"color: #ffffff;"},"TERMS AND CONDITIONS")),a.a.createElement("p",{style:"text-align: center;"},a.a.createElement("span",{style:"color: #ffffff;"},"ALL PRODUCTS ARE MANUFACTURED OR ASSEMBLED IN MELBOURNE AUSTRALIA. WE LIMIT THE AMOUNT OF STOCK FOR EACH PRODUCT, IN ORDER TO KEEP A HEALTHY CYCLE OF PRODUCING THE TOP QUALITY INDIVIDUALLY HANDMADE DESIGNS, AS WELL AS CONTRIBUTING TO SUSTAINABLE FASHION WITH ZERO DEAD STOCK PIECES.")),a.a.createElement("p",{style:"text-align: center;"},a.a.createElement("span",{style:"color: #ffffff;"},"WE DO NOT BELIEVE IN SEASONAL COLLECTION, AS CREATIVITY IS AN ORGANIC FORCE THAT DOES NOT FOLLOW A STRUCTURED PATTERN. THIS MEANS COLLECTIONS ARE RELEASED WITHOUT FORECASTING.")),a.a.createElement("p",{style:"text-align: center;"},a.a.createElement("span",{style:"color: #ffffff;"},"PRIVACY")),a.a.createElement("p",{style:"text-align: center;"},a.a.createElement("span",{style:"color: #ffffff;"},"WE RESPECT YOUR CONCERNS ABOUT PRIVACY AND FOLLOWS STRICT MEASURES TO PROTECT THE CUSTOMER\u2019S INFORMATION AND ENSURE THAT YOUR PERSONAL INFORMATION IS HANDLED RESPONSIBLY.")),a.a.createElement("p",{style:"text-align: center;"},a.a.createElement("span",{style:"color: #ffffff;"},"ALL THE INFORMATION YOU PROVIDE ON THIS WEBSITE IS ONLY TO BE USED TO COMPLETE THE PURCHASE. WE ARE THE SOLE OWNERS OF ALL THE INFORMATION COLLECTED. WE ONLY HAVE ACCESS TO THE INFORMATION YOU INFORM US DIRECTLY. CLIENTS CREDIT CARD INFORMATIONS WILL NOT BE COLLECTED FROM OUR END. WE DO NOT DISCLOSE OUR CLIENT\u2019S NAMES, ADDRESSES, EMAIL ADDRESSES OR OTHER PERSONAL INFORMATIONS. TELEPHONE NUMBERS AND POSTAL ADDRESSES ARE USED FOR PROCESSING ORDERS, DELIVERING PRODUCTS, OBTAINING INFORMATION AND WHEN COMMUNICATION IS NEEDED DIRECTLY TO THE CUSTOMER RELATING TO ORDERS OR ENQUIRIES PLACED THROUGH OUR SITE.")),a.a.createElement("p",{style:"text-align: center;"},a.a.createElement("span",{style:"color: #ffffff;"},"IN ORDER TO ENHANCE OUR ONLINE SERVICE TO CUSTOMERS, COOKIES AND IP ADDRESSES TRACKER ARE USED TO EVALUATE THE RECORDS OF VISITING FREQUENCY, COLLECT DATA INCLUDING YOUR IP ADDRESS, BROWSER TYPE, INTERNET SERVICE PROVIDER, REFERRING/EXIT PAGES, AND DATE/TIME STAMPS. THESE THIRD PARTIES ARE AGREED TO BE ALLOWED TO PROCESS ONLINE DATAS BY YOU(VISITOR) WHEN USING OUR SITE. ALL CLIENT INFORMATION COLLECTED FROM THE WEBSITE WILL NOT BE SHARED WITH THIRD PARTIES.")),a.a.createElement("p",{style:"text-align: center;"},a.a.createElement("span",{style:"color: #ffffff;"},"YOU ACCEPT THAT DATA TRANSMISSION ONLINE CANNOT BE GUARANTEED TO BE SECURE FROM ACCESS BY ILLEGAL RECIPIENTS. YOU AGREE TO HOLD ALL RESPONSIBILITY OF THE DATA TRANSMISSION BY GIVING US ACCESS TO YOUR PERSONAL INFORMATION ONLINE WHILE WE PRACTICE APPROPRIATE SECURITY MEASURES TO PROTECT YOUR PRIVACY. BY USING OUR WEBSITE AND PURCHASE THROUGH ONLINE STORE, YOU ARE AGREEING TO ALL TERMS AND CONDITIONED LISTED ABOVE.")),a.a.createElement("p",{style:"text-align: center;"},a.a.createElement("span",{style:"color: #ffffff;"},"TO MAKE AMENDMENTS OF YOUR PERSONAL INFORMATION PLEASE EMAIL VIA\xa0",a.a.createElement("a",{href:"mailto:info@wackieju.com",style:"color: #ffffff;"},"INFO@WACKIEJU.COM"),".")),a.a.createElement("p",{style:"text-align: center;"},a.a.createElement("span",{style:"color: #ffffff;"},"FOR ANY GENERAL INQUIRIES REGARDING TO ORDERS AND WEB STORE, PLEASE CONTACT US VIA\xa0",a.a.createElement("a",{href:"mailto:patrickthegu@gmail.com",style:"color: #ffffff;"},"PATRICKTHEGU@GMAIL.COM"),".")))},we=r(67),Te=r.n(we);var Ne=function(){return a.a.createElement("div",{className:"flex-row px-1"},a.a.createElement(l.b,{to:"/"},a.a.createElement("img",{src:Te.a,alt:"Logo",width:"50px",height:"50px"})),a.a.createElement(ee,null))};var Le=function(){return a.a.createElement(l.b,{to:"/terms"},"2022 Terms and Conditions")},Se=Object(s.a)({uri:"/graphql"}),Ae=Object(d.a)((function(e,t){var r=t.headers,n=localStorage.getItem("id_token");return{headers:Object(c.a)(Object(c.a)({},r),{},{authorization:n?"Bearer ".concat(n):""})}})),Re=new f.a({link:Ae.concat(Se),cache:new h.a});var Ie=function(){return a.a.createElement(p.a,{client:Re},a.a.createElement(l.a,null,a.a.createElement("div",null,a.a.createElement(L,null,a.a.createElement(Ne,null),a.a.createElement(u.c,null,a.a.createElement(u.a,{exact:!0,path:"/success",component:fe}),a.a.createElement(u.a,{exact:!0,path:"/",component:te}),a.a.createElement(u.a,{exact:!0,path:"/login",component:Ee}),a.a.createElement(u.a,{exact:!0,path:"/signup",component:ye}),a.a.createElement(u.a,{exact:!0,path:"/orderHistory",component:Oe}),a.a.createElement(u.a,{exact:!0,path:"/products/:id",component:he}),a.a.createElement(u.a,{exact:!0,path:"/terms",component:be}),a.a.createElement(u.a,{component:pe})),a.a.createElement(ge,null),a.a.createElement(Le,null)))))},xe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function je(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Ie,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");xe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):je(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):je(t,e)}))}}()}},[[78,1,2]]]);
//# sourceMappingURL=main.0a14d3db.chunk.js.map